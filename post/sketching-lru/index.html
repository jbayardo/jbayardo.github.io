<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #42464c;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #42464c;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #FFFFFF;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3b6ec7cbf87178a4560fa38da303c81a7535dda3c63cdb6853daf0c660b29e0a4325b23efcb04902bfa7ca2ecde822c4510a349fe0382ee6633dca3d469961cb19cbf8b6a345d1e92f0f5445ceb55a363deda6de683fc546444d237a6fb008d8caf5bfd2a7eb0a132284f8f8a86e95ee242834ab3ca664ff35fe1c9454ee7fb1221079bdd84c3c47e066768fcd841674ee0cd620c2461f872844b30ff4598459d752eaaca67b94504aae961709687fc560326620d53ae6726c621fe03a06ff3aa3c424f1706a9a845c30f91e2dd3eb7631c8ad11f20819eb475b943c8bfa772cdcebcd8f21ba8e6279a43b9d694f2aa4dfffd291b3e0a31f5deb19a9c9527c97a79368ade9d6f44712f242f150f157ea11e335a6afef11e5ded91281ecb3d14e2e5a6cf5e3c876e83e3341ecbeaa15a051cc87b836cbca2645b9cd2d99ad87ceb0ea201c6ade1c9158acfaa39a4cd74f143d53ded014848f6db49e35a004ff4925792aeaf3c6eab4fe9f8eea854dcfe85dc824d59da777dcb6fac8009160e724044dbda4aa18020b1ce19f84c6dc4e8c1bc407f9179cb25554b49d85630401a50a4e3c14ea15d9fe1e32c5b1f988090feb72cc62ed3057cb2df12e40592fecac7cd560eea59fd29febfeb9258c22ca0dfadd54f649c8da68176516852bf4be5dbf31f1eb564b9200a9746a8c7e65367121a67f01d24d137047bf1c61de9a7b301c31ba749b4c85aaa028eb651900675b328e6fa619dff743889e2e8eacba122973d5546375d8583963cb05068714bb379450d4bb35096aee1c7fde4893f5de4404204005e16ddaa11dd714d279a46678b7357fbc89b28d99759526bb154c280107fe08bd8e2af0463d7822c595c645137d44eb1f0adf24848a31b5df6081d97b19c3516371d5def8766fe2f7c470acdcf33c287cb52475dcb78861167571fddf53036bebd260bc57bf0874c530fa776971afa5af281b0196dae5672e6e018a9d924d1f23845e319227de2b2baea0ab9de78ac7a7277931fdcf6187a2277d1df74bff0c8f3e2e9069907eebe869f5af1c882ec4f1685aa78fcd457359f9a018a4579719a4f67dcbb2aca6650a5bc5861aee5608f8c39c8afa4c40d8b75215619d10f1878e9a91797cf2d5a0a9efeb4a364020482ae25dc436b295fdae92f091bae0ef1472b8e43c9680b92d7ac42e3a1cf84e0b7be989d42fc2c21355ca2695b48e7225ea235fdc08bd9c7dfbf7bc62519b4dee33743707485379e36f85e4ebef5958eb12c0b9c37c1c57e066bc7b8dc67074bcbd7e3ee6df61d1790def6d39cf718505b7faf3f3e3ce8cd08dd075d6ed180539334136f4480d84856f927cd82c4d54400fdd70cd4110da5f1c19c55221ec62b8b950a0a0bc68fba157ad3d99c385ac4fe99651569c43b9aa28d73d14b3cec3fa2a22ac5e008a642b8338c4dd54973b116668e452bda7a121954fa942d38d187add516b178e308e3f4bc3450d695dfae81fe10eb4caf72f85d6c0d5e046f8f3c9430284f4f825926a16a377e142e80d9d6908db117774c6a0ef78503077d9f1953dd9aa055d1b64cd84659b25836e9622573cd8be22b5f7e54215971a6584526929e7b41f3d56e713dde1192c4983decaf2a55a833abe20ec75661771ae1632624eb77c3534d90feea69ac190271b35e2e7e66df6d08e2782330f6fd7852772286e85e7804e8e70c83065f542de4a1b04cc939376c3a121da10d978fe8a3cda8fb260546f36de8d4f2ce94cb3405432c82b1de9ec925b8ca4b869091fabdeb1e58a91970e7721b9f36586c3ccd2862fcd65e85ef95f02149a67eaf38f5d26bf0414235ae67b8876623f117f25c36b5f3678cfb6623f342a7eec6c22a36d7b09e6a20e0d6a5c61f838e80122d9f12460f142dcb79fcfefc69c69fa594a78aaa7c9a9e7d0916e32aedb22bc2d65a8780f01a277d8eb3b631aa75e313943b3f3031534d2499a9dabb8fbf7c34e4daea13619365c901a75a0ab9a0c4f7f3f8b8b0c3d6de08e1895c65e79d1e3a3377836834c70086f023fbd2705353feaeb64bf45f5cad01090403faece7e37dd563b88b0bb27843300ae703c469aa6f51ef17d63f978e52b49eb3e05bb194f339bc67290e4e2badbb5feaed5105ecdff95f9fce5348efda14808684df2d9a94e8309920b15391c1131a87afc92a7c5f7bf225ef083f0a16b9255e3a6916e35dd1c15223e452509bbf653e3cdf17d2246766d49891d446ce28f141063ab5cf3c7ae3d1f47da162992d951dec1ff925347075130fe877bc18d52f9fffbe75852df0b264d5dbd02390bc21be28d9c9b9b6192c74df5793e0517056b9d9368ae84e07a45b268445250faab4d199b40da9de1e9ea8c0348aa1d5090440542ba81bcf04d2f77c9bed5010257a69e37079a79ded99f65f9d722ed4f3915cb519b133b78044363a6f30cd4b66a4a8b6ce67c33e8a37032743d236ab5bf413a5202a0e388e9ca4ebc4fed03bfd51cc44620d6d99b636880c59ba50e987bd71638c339dae584b4debba6b387a628b3cdfba025e2808ac4d3468e0e7a23ec4203afb86d7fddf2a6422bb621b45f27b49d0716b434f4d38e714f1182ad5e6e0035c93a3b3188685b7ce9772903fe54e80fac9e51e8b4b259759bf304147829999b8658564667ea6b26cb30429733aef04f3141e77771528b5c83999cbe4467a1dca32d19865598105026eb5a0145687742a6ab0b86f95dab92bed67ca3621c8e850a4c4aa9f59a40564781a702a61ea77edff242b9ac5919c29304a36e90aedcdd2fad5fd1495e059516899991683d29c2578b28ea335207a4c61c3da466439b7b9a8c5b148959a55507a48bb7f67874430aff9dc0fedceac5a4901f392f578b8eb3c1044cba88b07edc24cbed9981df3a7b7a849fbe4a005e09a142f90b193fd871de42fa4b1e7e1aee65c63510ce26cfc08e3169d63a1fa0b3c32954e3c211171306378a0e7715dd0bd8fb0598dbb9d71f342fedfb0a8d388b946977661f2627a3c304d7abbb20a506deaced530729fb76d84af6e7190ef8ba50b25b6aa2ba49db49f263da736bf354e86f8a6bdeee5682fb22399bdc982cd43e1f30964983c12c00dfb46c694b2d1672a718cb4648cdd7e8ae39580c9892c04f8fb6ecf9526ca6b3ea2d8fb61d3f135994122aea326a8f610ba8798589d34bd7c806e41f2eb50969a54af9bfdf2b776f618a9238fce74fc6e750055ec5504254fb879e292491c242c66912c94a72be81e79cc47a49cabb530151c5dde78c567ab99db7ecaa6636a18ec0d6dc72dad7f6337664e2530f4cb08f89e1e5dc7c630e2a63991efa6e2fac8a7f2e3f436aebec6c63a1d4dcbb2e620823a238f1e20ea97a8ae6f0c6557fe552d3c6517dfa6ac616c0c5363e66f979b1853d297397e80d23982613740e77add28809f4c8add122dccb5c7247f5719ee55f80a54c04384159e3c83e05b556b81f7c6529f00cbbb953482033527cdcd00a2de8e249ae4451773be63f6e8bfdd9d209681421942735845c920d57b65fe56d69ed1ee1a4a0074ecd45eb847c9692fae2789cc9d958ec252755749a1f080281d007711fef79602749c97576e98795311dab6a682e5e70ec6d17be8797e02f840f7a89baf7ba6d327772ecc4f91932ec648084387041c96d831d82512bd9c9808eae00866e4fea5be019739242774d4d9c303919816e4b3997cf157dce65d0141ba0157e070507248018fa3889d1ea93615447de28262a0613d68252b34f6e0c9053a22944ccd3a5f690e17259548c3186eef871902e74f81ca77e3e2f8dc88f2c8c360e5887d6c53f3417f51171b288c229246119a251a1ee6bdbf852af9122409dfccb61f0912c0c94d9f205c26a4a252a208988b419f77997625e0decbf358405fbc22756ad8a3b448881f6328bd081b392f859e0a398058beb3cf2e312662b8112ea7df37e4fa3676553c1fbceda2707b4df38bed68eb13fba8844e02b6bf4dee68e345fc0786363f13645af6dcefaeeb2acd1b5ab114fc6f519f6c4430e9b598d40cc5ed7bc713a438be8024d2d228e31aaaee5aaa11c8acfda5061df018effb85536291735eedd9b67f29535999f89aa373e47cb218da9bf283ab4845a7ee4fc376cce28bd881be8ab545649ea6ef0855a113ce8679eea89d78016598317d9a537b9dca9719d2b3f1ac619c91c8f0edc0400c114dee6025de73cff8b82313098c47af94594c451a8abb3c6ec97a73a3fc5bcfceeda769daa4b981a358868c5a6f68b24f9219da1865ba22d3e00d4bd4ac1072aa61eab053f3485168470e968d2facd62884c89829586605369624bc41b621661f07928d3f3fbda2a5ff6895d49c69532165a2157b7aa3e2fb94ea70290166e7ad0ca6c281c39e515b527e2b0073b6e9bc0c6118600c757f4235fd0a38c8b92087322dfa257e47899427f74c08fd59be4537429e488a7ad49c11d4ecd5eee2606d7c438307dc115ee02ef80fbeec666af355ed454a13b64927b0a55b547ddde4929675b5c8be7ee5339cc5b82424f9d676d9e2ca48263cad0bccecb2573dc1c94057130492562362c39b9065e747d7ad719a520c5566cf3506cb4ff53d7e6d0f690817f7f8745065d64b1f7cddc6a54fe07fbf9dd8b124dea9eb1c6ddb3bdf0c5134477e7c8f8af1b95e218a6392449c6cf22b551fe166d37cd39f52495a6db46f700e9c59a24fb6e6cdc591f52ef638e7a82d3f90841e5d47bd6ca9c8db73d32319e5485aafc9472e3587aaa22835f3e87bb5a4d7d122d194ee584d72a9e5cad021f19fc32357b8cda1da0a34598061ac22200a97db6067acd06a0effdf3f69ad349fb6692262da9d683b9a201bad34fd6fcbadff55daa69426f84d40b5ad6c58743956bd515e5409b071694c00cecc4dcd843107d5fc1905360be1a3197623ceac7c51ecea7a67079e133e58ed91caf8bdc8076f56a5f65bdb4f8b7c5ed74d7c88317a4a6fb3d5a2ce8c5de77475b3b5bf2b86172489bc10d46221d9f59fda45f65039b63912e5fe2dfd20d928bf51966ead8c37224f2565e3b0936c74f6edc930e291c7fc8ab87c626f50bf714e9d60017bdb74098a396955deadee31953834afa88a3a33bdcf6c385ad6129b0e9078605a9439d82b4228cdd2e7a4d3476aab0cf6a99917492a0f3fb80390725fd7b3f8545e81e1ce42b3de6b964777d1f481d27139f6180076541d09090c59cbe87a2ecfec6e79be8fa0cab7edb81d6b37ff700fed82902c802069d1ab1adbc7f9201cd0a3889884da135fbdd5a59b7e987ec4ea0724a44caa13f472d652d5973565411288a59f4d9c0fb637148bafb0d0d604af8b7e0c583587a3f81fef877289befced56cab1881aac2e3599b4d36eb929389ed40fc14ab345a7dacbeb19ae7f55dcdb898075cb2f038e015752f6ba6740f3b124d524f24dc0eb226fc34e6fff7b04610fcb311b9f8a1ca85b2210dc7330fc3ea0d00beb46b7741a6ae453bf9b00a59f023b65dbb56a43bacfb860058c62b4cb6edb9407f760c7769982e444d4fdecf4bb5ebfb0c9555bc69ebb788df405a779df01c4bd8a98af790f77f01514461e110e8eab7764a6776937b778269d13b5c2fa05b0e0b05b87a1a1a49907e92ceb8fbd66364d5a64959747a315d77374722653c799196296c33d177d0a10a9fd5c7fccbc6de66440a4726ce6c9dd98c40d108f1529a1571374ceb4ff1d87246ca59e03b3ddedff97a25ef777a3852d1eae5fa9cda5ae9f67d28e9f45b4280356680f694612720f0254c5f98116c9fb1da9b0e45c10da1ea332478952fd6393b036e10d11d4bd57ecf0b8c53ca646184e0b5d2c990478f819ded06e80b346efdef9a49e105756a9b40f4a858f48ee4a0fd9da4ca3ef0e5b3671d54bf6e5689284bc2b04661254619b8710e3f1644b9dd6bad1e80a67ebba9104b8c79adaeb29cca32aef4a23cfcc71ecd03c92b9728da42c38be7a533cdc79b8f45490b3717d8f844f359484198e0292594ec5c4abd2c478473515d97765c32e63b7019019499ff4945e80e34b364fcbb1540d7c85dc4d3c3d10c593c839339d238304c4c0f8c79b55bf7c8cecc3dd4db9b3432c0a06ce3bbcd2193589bd467177dacaa50a554804f4617e478d7c130f0ac6440da1aa0160e8fb941b2f54bdf63954814b679b05522317e67c6a11f97a970a30c40b9d1053210d0d3fa62f1eb8a2c11e57f4d8956ee82cc7b5eb98877bd0ece72010be33114d6596e19a3170c2c3dcba93029ec8d4af206b4980935bb66a94a041f8a4459365e7a54629870ecf45df259623afbc58e57250404165ff2b73e0f7d1dcc55fe10a314819f05f4d5f955c1e89ef926e2a93cfcef4a6a1d9975eacd3db8add273dc8d78150b365eab2c999d7dec644d942e841aded2b6dde5d35dc3e07342f289b95e83f075499d60a401d269c123114b4ff8977a7a6d5253afb3eb6aa919ad14cbde4c10f6eebf255ed17ca6e6762c082dc7af5ce9f729af0d1180abc5d6cb4b86e91f7daab5e16cf572795a8e8034ceb444f1b5cf771653a2319fa19956772ceaabdc4706d7e70a944f43b54f115c006e56bae960499cbba400f6a14f0287ff7d69263bff54b131a33bd8746598fbde47bebd712b9fe0b23ec6440e5167b626e35723a1cf9b1409a5da4ccdcc2b28e1e9b0d9f71b4a7d9b4ff025e9bb954d37f48bf4629a7d07f4ce718929963200667bec023ab7240d43dbf15d3769e00c2a1cc007e8c81d22509e6ced7eff2da36e99cefcc7e5912fd6cc3bd54e8e817afe5c415b989c89929836d051d2e27e5b9c1f87adbcb6f98d8feb12c4b352a09fb6d907ab7dda24065ca4766564688e491630ed3719f271afba190fd8233e86995345d1516c9ae18b60ab3838b31cd9c31c32ee43e09064bb2a90b696ecd0fde3b3589301f07b74f76eb9f10607a09f3c605fe8598957c9cdf96f12a4e11f0b240ff75eccd7cd14c6fb2ef3c3bb48eadf0a8d6ef4f765809b114e0e84a65cdf2647ec68b8eb93b207e0621bd9fd5d1d482305f32a8053294d60be1ac366d86cdabcab16707331e228834118a2a8fedb9121ccbb429f2c45b8754056244cb267a783ffca5336b249e62498ad3850b5680180225a5d5c2a1420318f25bbef358b9f0d90269c9476860c66e95efd5c69004ff1a8268c751d941abd8b59142f0685dbbbc49118184343ec414d03f175448fe2e614f7ef2aad566d57990bb78867a81c439d22f8087b78e6022eda04f494ba2535e037079569f1a4609237c2c7c0a2e887372f74a2d5354f9cc9e783ace44800028a9562c63f9bdd97afb42365985c0c8b204cc202f0708a0c38f2e1d07603aa90f6544f986e1ca18cb4e24eb379126ffd3c902ff78c597eb4e220e2d3bcc4b6bdee1278926df9d45e74d2254ac926d963694fafe01b6f5bf277d340ace98641a5b84382b861bd16818761f2fd205174ed41b5427ad0e09a1dd5b8b56c162c085ef10c9e780cee0f5ada7d1b00bfef50b1d2b9d514312ea2d635d33303d4d8322f994a07bfc731030b2a0e98253b6ccb88a0e0ef19fefced45e22c986ad491b43bd5ebb5dadad9991966d0f3167ac7eab810c17be884727577e84ea3d037fda18f9ade3e588c5a8b6aec91a16f6cbc0b7676de06e81066427df605b01e557f8fdc76b315b344737ba3e6a00a662efca85fd1973b3aedc8cd3256e660ee1b804d9d6c508b1e14653394c518b299f336a950219fa80b1f8df5f94b1f45c80903b5d6242047065252a3096682ef00bf43c243dabbe68a988e4957289db261e5160d8d5e2075e212fce2e6c1b51e200246314fc8490e97781f0b3fb9801ab82ac88d2fabf59800563e064856d20cd6d0e01f899574eb39035e5f10c9a5ee6a4a4cd8942a155c2ecb1af11a2e8fb2132c9472780f7f117a4833f8b322a626fb53bacb3a0ed2134038f6fc4f7dc36a1a603cd563e9377d8e9d2d8abab2cf66c48284649e0cdb23db4da897f83c62780a196d061dec6bd5e47dffbf985bacf7375c43fbd41e9e7af987f0c9b3670e40400875fd7510f23cf1060f4d4f0f7153819d50940fc24d67cb6715890d45a78550ad342012fe1e897e2198966f774f90b011f7d6907683c4c8b4ed20535618a4537f43a8487128615e2fbf96451d9c88da0ab1fdc51b47d70afce6bd5d6b95fcf1e76f415396f524c3420eeea56ff33731feffbfc4dafb15273fd1552d9c2ca12148c9ded67df8b25429e7c1042a38ba8b6f34f29f78470542e58263bd17af38ae958a0b73d8693ab2f0549420d11c93c15c577f0354f02c8f2a8ed7adf8be48e2c810199eb7b40ddac11ee0b2b4ddbf547e1cc47616836850da83497e4a318f992e116d3c153dcb3d76753fcd6faf4768161c522b46038ad08fb0c7f52615d782ceb07c4ff25b8594e45eddefc1282b04d9d58b8ff72b4947f1f2862bfef8e555c507bebce0e61c46a78835f256cb1f487511018acca9d3d5e107228074686cf8d2b1876a6101cac159339c745210d53e4bc420e22de91edbfe2f045b509931bd79c4f3f85daa3b4fbcd10743108f39ba4db884701cbc0980fe01cefc060066d33d426b32da9978b2b8e5901173fb25e8d13f4853aaeee67ef2a4238d3f78756a3c10ee9ce71804d56fb337c9dbfa7e927dd4047eddc209e9feaa29dd509e9bf3169d5a4699ff868b74485edf0b12784a536e175a54b776e5aa671a86d75649959ebdce27cd0a6a8e8c63f03d6401ff988bf024d7db6f508860ec87d2149ed13ffaa9ed3c6ad16e2ae350a3d5ee3cc6ddf46e68cae22b621785d7ad64285b6639569beb13c3c5fb566c30639770a2dc144b77718da6b4aaeced09ce0fe6b327d434c251afedce65952b373e2465f4daea92bd0171e79942865558d386ab9cc34d945ac4be4f1becd35631de48df8d6eaab7094120941188ab9630cc56540d035ed20a25f68316f733bf788960624cb127c18d0e53c5c3bfd7ca7d54333e5dae29ded51cf208ef8875b21ddaf7f55d70836a680d42c35457184311b2ec6db6afab1b912e14809bffc2e9c71eace17b4afae0a7afd78326430bb5f39c36933b2d9aad24f90c92498d7b4360f941f2a9d47b3bf6faa8b62f0408259ef100be5dca442304e68e2184026a7717b689b6374885cce0510f46f5d8dc77553e7b86a47540ddf18611fdb7fd158696f8ce89e79879a13cc4b85168b554bb4ddf1c4a5658916d3ba7036b9e966d2211cb574ebb2b8b57c93ea29c93e98fc265bf23f0ecc40bbcaadada7b28b3dd6bcf8641412b50dc2bb5a82f4fafe2cd33254779f8e3c505953b56d43eecd1fcb1c5aec901aadeb039208f299a1ac20c9cf9991bf13872024eccb039bc8002fddf17e5e0ce9f4bbc8570aa9221f8bfe3fa29e103c9abe22573b38f22813c32aea39dbed3426f2c876da2d736d4997851b7a67abf7e3096cba38c68b0ce6db9fcd2a653222486a5c550713848e601c06dda97f7346a3d89e8b3d3ef3f9bc3c6d161e28704ba57a63b69290873edb424820a66fe3e41159c212f52841e11a43596f4827f0f64cf1032471a1198d33c4cb667529a7b642164d89a1195b8444aaff8f92bd447426f2d82ab9bb5b523d77abf05868b6d02823bb9f6436a96a832e9502c23fb38f8676bdbdb2d4ee71809a351fbdffe022af4b2317aeee899aed7b7a0e9d958d37febf27421b2a7db90d4f46cb1d9f9c3a77e923e56ffc4cfc886b2ba465a1ae025a9c6f43013b4823bf66a058866970d8b77a19ef412525f9421596cc2a8421901fb688574f6371e9c24ca4d52f50bf7921027cb12356f3a0f148e8c46f065c8ad857e9751ef7cdecc42e9154d8372898ba1ee3ddae1afe89b39227cdca97566c209895029a77172de60924c10e0e017047f652b014458ded5d73b32ac7fdb939d4822dcaa9e8cbf51f447fb3a9f9ce984c983e1b044c1d8b8900277ebc172bfe10214248cd1aecb0905f7ba785c4f9dd7647d370e2b37381f19f91050f051f7cdb7fe272f62a511a7e9510bdaee8a2e9122936ef49e4962170f7d32aa53bce5de870854188555964139cccea2b8d3d1c931df819cd3c2b9af45ab4824073fe531713f0af6d2aba6c3e2c60343a59e81fc17a6ba56d8b0cdb02be94e83803c25d0bf530f0ec01d8a1a61c7922581ac1a3a1bb30bcbd3e410bc3c0e206787aabf6f2fb6aa793f9971b66087db32b042ddc819b032f29334cc247b4420c7379753a3d35888d2e6028baa2bce12ad14ad76880ea3f296a624c7d52b5c86f10ea5da1666f879c837c80b9de16819cd72d369c88c10f488cec0711ef1cfde963ee2ab4729cf5e2a44665cde518c709e1374afba2a8beea3233ce36fa242cbeb4d51054c461a1c788557ab1de30ce401b06a1e5a40624fb3b0d6e33bba010a4b4ae34ca52c20f5083d007a5dce6c0a56ab39416dea41ece5db965ba5154d585c496adf6cf7c8e2e7c39ee945be7fd5e9bf82c74149ed96ed9de91c716c527a3251df58f22e3649ab60cabcceec11b7eeb1ae856422ed2725d9b22bb7bb3878d5ff5b7a5aa1903d4290ca16279031d9334db3fa60b8cef62a2e3ac13cc6ae851fb059cd9b81408cf1f87879094e9ea8c9df45bd470ce3f58c25a9ad90c70599a2a242199c61e6d762ebc4134808b110f9e09a1989eec85ada3f52d01e15606305cb6ae521737182eeb96175c6133dded638b3771e8da5b31e0a70eaf6dad57d6840576312e7efcf910d4200729a9abbf0f047bdb927c658ee8e2381ed7d85755a6ebf0634a043848fc319d2f5ed010c224bcb0b56d077c0985da94107ccb83c1eea35922a65ff4d5f561ae0b451bcf840d5b5c6adc09b34a1be3d43330a31e58a4e43e3b58039a2a7600d1eef4c94a602cc8b676673c2d1f31f2914daa1eccfc92a2e681ef99b20c0d18e7b987830ef78d45b5c17ea1d1aa593f9a270e31fccd0dac0f4f323e4f04c48b826fb07a50c6ede123d0fc9eac29e55219f9e225d63bbc1a50c5694b1b56be2f17f5d37da176df20271510b1a0ce59d7a1d2faba0d07783ffd5d5db921f81e7e096586f563f6f10de7af5577d497f90a5edf7a1bc7f791a40da9f942559143f88e2c2c57ff78e08dc65d0b092ed2fea893175815ff525ed3b75deb27cb72026e23177ef65657b4df314cfde7017d29a0427f4baf5a2255923fb5a2e3fd2b7eef4bf751d635c60d26900ab1d0059d657727580a6f8fda3ef2b7dacc1b964e4b985c29488de27236d48c6f8b8c294734073918c9de47e0ff16d9f1390ca4315487766b8f65c6884034979ac6fa195d5e3a2a85a090cdba8bf34adcad2d4c5c19efbb3df3270d129eec550fe1e9bd0dc5c4571c853b1251d26b595a7c1617619c5eb9cb45493357803cc1df59cc88e9535760170b2706d73d8d67ef7cd492a32415728348185465bac89cb24fd11bc0e5fd975f12bb029d987f32e03f6f97e500b33813f898ebe04c632e695bd45051e0798b5b0f8e39f70be6b6972bc413b8978fb2b6a1336691ce27737b9fec9800cfe416c628318eadd05fbd9e9846b3226284838c0ed4626b86b678fca73a0f35e8a68144a55491a85fb8abd2b7ebc091db8659a4116360fdb1e67caba6c475cb17f5f3f223b9f0f8cba5440d42f4298b48b5d2dc7687c89028c9b762711d19ae683368d43c1364024d581a851ed4d4b94c6ff4e1c68660c9664e10b2c242fe468681ed11c87c311103a2865276fcefc1a4887b526b3760ec2c9e7028578482e87da8ce5ef0dc0e773074e8f148b9078d866d0ec70d646b6b05272667556b54be1cbc20c4831bb7fa44aa945fa5137752d46f8ffb776cfb10611c5b2134566647fea10dfc13f2f80acd48330a228ad0d064200745272bf9f18d6e448676d7b612fe5ab9c4c94f7afc46dc777bac6cd4825857e658ef49b1859aa8543342ae4df26eee4ce3a11a0afb33546f0e084ef80a804b03302cd29c2489cc5608b92383d5ff845223d530d0c5941515cc60978d318095e21eaf7cdbd4735403a157cc0ebaffdd6835fa7900e8c2eb48ffd5a9c273527f135f06e488ff42801a418dba124a03ae80edaef01c3bbfe3475c55aafb662dcbd51c114285e86e51963b3c48afc512fc5dc9a8587c42a5333ae4ef844cb3463ea0004455b85fab82bbc103f797098e133b35169aded484d11875e92c7a94385104e5d211cdafe804c806d76450049eb4b67dee42aa054b77727270d303d0aa466c328ef154919800ab26b1d6d7b8e00fd0ed78b46b8eb89f229715739ff71ed5be306e6f88cab25da3315a73c3a1846824324a69de26c1f0b11c6dcac044d872e8aa08c079b20cb675aa751eb30fb62fc179fc611d1685c49c8b1c0b70177368d29ede1218335c298df7c7b584b76f36fa339bbcce75b4d214689cb5b04755a1b5fe0611843ec8bc63617fdde75f6b8645888916da8161c5e62d1a3348a1b1663fef396e385925c9d80b4ac8080017c194a3830e054bfa1f76ca9999854a9937d5c3a250a2ef2357bfdf1eae83615c84b8b86217c78f43338fd9b173282cd25e06f68eec432dd2f5c2388506ec64dde05a10ff78f3c3bbc6b4378b84ede40a138d7b10bd15e48db9a128c73c5c73619a0bf8335ccb68ee90f4be7aca64996b4c8c5000fe0c5bdaa89f88edb916b2eb6481ca6dbc1bd07d2e747821338131fcce304c11ad9d8189c4236405ca655a2f4a7ec49b021488bfe6653dc1f01b5159e29e8d468bb44c237cf5b061f660287223bff890966132dffd0d9be5ff3b9cf2fc14a96d139760fdcad0dd6914e6f2be96c3d7f2db999146f8014a836e4e0678309ee261242f5d6a53f896baa96dc310dd2d223322e8c485b26ebea363a63e19ec5b5802278309e02cfbc821c54d1299116b4a6223c6b4c73db269deecb48a575d7f94e98b16a21b0b3e64f49696e680a9fa71fc936377728ce30293b4d29bbf3111720a251f90834b7a2eb107b854e437355df6fcc31ed4d5d89e3c4540672fc8c4b618567e2bb56bfd9df1be71eb8c899ebe95b22cec00e73e8d7bd1b60f32355f986297a4336fff1977c2892557ea097c3bcc265f1abcce3b4066bf2002778db25551000d1a4f5a3b8b5deddacba595d2a2552e2cab4d47f6185540b9c87619544c662fcc05bf52b19434fa1121e4b9ec3f9b2729c4f4cd39e899d33fea479117d1f209e29acebe3798ae7ace48f527e2d2de7e147556a2b87c54a9b1e6a58797df017331cfbc3336696ace378e9fed4cc71bed62beccd5f85399e2e269f07bd98518a5be021a95434fb8d001c4dedb1d25555bffe6bcb96817034cfbae70111cc09a5d23a154ca5ee96ab658c5110418a4bd72445603bfe29edc738fbeae40e3321d2594978bfe23d2acd9b7f1a6734768484994c12145a6dec4359d96c5c3a4b54549d88d52f0b618ee56c94c643a2f68fced7220f4f4789e30960ee47a42a7139b60982f984ea6e3edd011381d6c8afe076715431bc3c9817dbccbecf53b8d9b06dd7f0dd9773e51113786f58ef37cd658bff05bec34b91027053ee9c354f8643ff271abc8ffe09688308c1d0b8c3764afb40ef2e5ec85f537650656057a194015afbef4a44b7c51594139e7009bda1f069cf0cf80d63dfd5056cf2ee1af3c1be36beddbba88d9274de17f73f906a2d5b39ade7725548b47a98f453f4247eb6a6f235f96292c0581b8d8803cd5bd7e2342a71abacdb3943ce5acfbc8b19674710492b0640efc87c1a47facfcf7c406a3589174d925f490b3b08dbd9b2b2c2e72b29db3c5b6fc51a4ef04a763f18cd6111d6ff9d4a34ccaf8002f4173f3698363734f26d72ce259ebab6d5400a3e416d12b2c2cedf0d4b210f117c6f4fbea143e0a479e82fd8039203722af7527a39b12fe0607dc49692468a61fd231b234ba000489be0ec75c5770d96695182d9b839ae438df5ba47cc8f375ecfc66f492209e4e18b075adea9da995ad1b037b216223aff75e675cd762da62d7e200cea3c82a13a567244faf5de731701dd74edcc97de43d9d5ab9e20f28e62db8d0ba2527f7e1b7de7560e548aac113d89f3b8231dbab13e4715d7d78cfab55e62e7e582cab79daf4d34d2ffc2323e8e43ad0c112c8d77d9bb9d4d4529a4ce35f874c48016d400e24d0c2dd023d9b5406530d539c4672380c2186ddbe3172605592614d1a5a2c898d9384ccc1ddbce3b6772600aa375663813f86922c9eccc0255825206e184a29b6046065c504e116cd9a1672f2ebd6da80c381454c3f732703d6633dfb44b31924994c785530cd40aa209d4861915264f4f2c1183eeda44fe18f34071e7f23bbab2f01b6c30d32aeca203dc8f09b262152dc6ae44234ee9e327c09b75eb4075ed9a81b226eb946d79952b67340893e36791425e41b318896ddddfa7c09adf51e1f2c841a91699d47c03536f63729b3558e4c66d6cd1251729e91ee16eb0cce745c9886931ec94ebbe79320d08822c47c9f44dea1650ea42914a6af9f8b5a66f5b97d9fe5815519c9baead1677997bd104f5e9d3d8a1a6590c107f237f91753b79de5791e0602a8a827d06c35cfb607c8598ba9b42cd17f5ffa3fcbb7dc60e447ab763c0a4c40c5b4d47a78a33ce55b8186e9bd288ca5bb58a169909ec5ae8d4c0f587319b49827b8c69bcd82092e7361feb40cc5543a2720a38d103ad6352d743c6e7ede8f664d05967560865ca7f0f9d0c688fd6888a2dcdc67a80726e3e4781056612f0a0a84e8277039fcf3e3d6d2832bf0e9824658092d9ce7042970fdd5587dfb53db871427b3de4512d58d9e589f741cd65dc21f3cd65905c7eee1caaa7a638354bed60425bdffffc5a4a998bfab068b0a51368e0a8cf44826fb119e55e8ee6d4aedbc7cb14dc6c012ded8f007dfa534c9bf2565a2ac512a4a98280e5b0ee751d656ca19c49758870242525ca31cb4bd52286940f8c166e15a1d94d48838fa36eaea3ff39fc0a19cca451def59d96f96a42c2fca52e71acd550493c6eb7ca7206f8374fd12338a0ba30a99a113df2705b143dc2039fbc63024f02a780aede5c449a60c53b2965a8254f009822d986a7235b5b9143d2f7da8f8856a379dc22fe91ddb36d04b4d6ed590d45803b1dcdcff52139a17a28ee8256ee6eeec724f9e0b5bb100032052127f9f8daf8511b73b73ab380249023bdcaa5c173df04ec5fa776110a3595d4678721b54f1f9f9155f7c8f803db5a4205cfa1857f31c64f23f23d3e5a7bd70a423512bd8bb251e28dc6f646bb523f83fed29068319143fcdbe8cdd0f5613f9af7b8881abee0cf6442b486253d9d79bab1536d0c45d9f59b04c765672f3ab1d696e7761e5e999e7f02d05428390cae0b37f39356f92a9ff773d20b1a195fa919b298acf8da976dfd3cc6d3aaa3e01ff15720964782bac24aa7ffae4793b5061fb2a1cbd1f23cdbe0f40aad3a69fde8ecbf8615ec4a223fee3ca5943dbaf40bc95880e29cb330993a7b6dd399da0ace02f86b1693f8c2d24fd08492bcd5f1bc917838e3dd5f3cdad02cd76c70e201dbdfb43c3e61ff05e35797aac57c5833d7647589c1a2f2febc2e8f462f935f81183cccae71d780900bdda8cffb583ecceb410ac7a5844779e33151ce47496633cfc33db49de27f42456e61aacff7c47c77d6a030d7763b8e9200ef71e2cf99435ca1be4e5236ec03e3c02315f09b292ced28365ceba6a957783e0ee69799bff97fc5b2b488646d623b810ff6fe6d50704462f93551d2b6a90e80d4c17a81f2fe380a51f4f92207f314ce7b650dc06b165a04f6438d807c9350e46392c838e68566adfc101625e97494d3fd5ab603bf99325b76d322ec180bf112fffa2dc4507b337e3a41e9996969e4879754c61a7b33d8b177f89b5ee1054507d912178ae37629c0300b1a360a67757838d78f38e8f81a6e191220efdbc9e345a147c10c4b678e8165ab41fbf7463287b8f21515945870e28ce466c9e1a252bce8aa13e2c39434e92881d108d4c4f8a417c9dcf17294134a3a17b037857045bb9c23fd0af8b85cad140daa3ff57f3f9af1d1fd0ceba412d6f84dbb6cfe85814ba85d953e913d6415e095c8fdc03cb207a20fc72019e57735548d9221337c9400a5d70eafca2dcf1510ad0d2d431d1566fa8d265da55591902f12101224141bf3cba967ac16cb50428fa7d8756c1fd48f10b07182c869f2fc393ca918b575975a4330dcf3712f304c8e452086ceeb43e750ec38b469b5c69675ea5ca1ffd40456e16d4906ab03fc9484287919a4718e16089e2eccae6b9eed8939c0507a30bc2dee815f68c6db5642855342ae32429102201dd4e28e5d87fb54c49fb64f22380078d51c82811bd8758ffe0d9c9261d87220d827a93967450014ad3116b57e52cfc4819efa3118516540134ebfbbb1caee50e46ca4aab4b1752a6f7788ae20bf9f927dae6a030e20938ad9c8993cc5b13a9a9df94a06b84c8b0d990164ab3ce6e92955eb27e736693906e9956380936b2f0473f5f8b82232ac2756415c191bff2d810ed181fa4d5b55d189e68d674212d19208dfe6578d40a56b946df0a4bcf97b558b2af1c707bdb69501c14f5261e1d8e51ea709fa77db9ac979338105dbad7c7168375c7b77b2983478c25024929aef75326ef627ef2e69c5249f2b517d3f3d000d1d4ac5b5df5ebc2889d366e8693f4b4aed7c906354e871e0a547f3eb65eee7ce9b5b71bf269fac6fada86543f0bc2e68a488f53d53383ce4cc01859bd183ab008ff30780daf4ff8653942ea1bd4f285f25ce94d05c09641592f33fe3ae358d6cb47151d11a98ad4021dd859f6331575ddac1f5a1bec32a80cb4385f50e80f7a6e6f3e147ad047fab8d59a58babc311828dd9d8fe0387067de1f6616c219acecfadcb4266bed97f9fc1b7f141e33b263b3a70fc1ec0815a3df6ff0d55026aa742938c591c70018e75dc5c1a7bdc1b5f395e8a454675d98b5522627801aff412a501fa574889e63fe328b83b3cd4665c0089b05bbb2849a9fdb75427667d5e5c696beee4639e57977a085f0612d7d0be4560e4a385f09175d289d7b93362024cd6e6fc47afd49a4338e6ab9ff9f860bab54d730a85e52341101d5efb8c9f3f17c87fa77e9eb0064b24f41e6a954490dc585b31b6ab4a20eddf972803e68d2ea9798291dfab9bf5efe1e629d0d401f3f201ab6eaa0f2298e84f6479a22bae88a521dc4f494a51f925569d80a62742cc5fa05b91105b25d9d996773fef6f203dfa870d30ebbe7e89aa70b8277cdaf307f9c44479a0371622a77d8614f55b37157bd69aac7ada605d7ea89436cb381ad16824a6c19072958a72f03e33434669387503e50071884d2dc48af01215771375d6c820ec8234712fdc678e59aa94f1dbb67bb5dc60ed2d8c0dbadc95d38a8836eaac550b05cfce2d422414347807186dc3c54e5fe898bb0c146f79d19f61b25b30bba13ea009cb64ddc9917478ff6608f8af9f030f256b429cd7e3b85b8499d01b840fee26b9d3e004645b36c74fc49575603ab4325a476d73c8530feef8163946f535ed1d03d56c3b088367b14eeab491715f1fe67da66bc7eee35b5f3a986b4d7efc03771a9fac0bd3617604c6c27ef66610321110075032ece18fcfa827385f874a43582ee216c44c25b49b710120c745b70f54fe92afe21152e883b290438dfd3c92a92ed72360b3e32a31229c690a1481a79e427d31da2942f9912b28952694e217fde34fd7d2f6d468278a89c923cfa5fc673502e3819b456da6ba3f4d6cf9c67f2fe705c535ad3a47dbe5a6249be72da85313952ba4e07c06fc9446430de10a3127ff7b44e676c82822e9de6404a9ea50c95e2ccf689d531b0e6c32fdea8dace6bd0016e0773f1f331224af6bd8f62bceabfe801f0edc4bb7bcefc081715a14155607c50585c97de5337fe2bb6115a39bea96f795f5036385bd2b405bb55819fd24e006d46aebe9cec20a7b863c6ffe14cd43aeb0988d1a0acbdb37a539d6fc02eb378edf0459b8f71090e9fe9c096a1b720ad5fac5c400eea5d0d1aa0a56008bf9b1c5a6566d2b66d2d2cf7073b3e43bb507dea9d5d2b34571aa4018f6f0548034e67c01a10c8b3c381f85621f957fd0281344c9f375cdd949099632abdf56d2de13f33650ee41e97396955836aee1192d82b34498b712a219ff1a99e73e5fdba5d27a552ed5bfcc12d0ae2b219dfb5d6e5d9128b744506d2a6a8d7d6420675ac77ef9bbef6f8e54b7c89b193d8a32fe60f4ff6674271c3e76398a63f87c6e9096011f672f01a9a3af002d7a4f6617bde30917f3b765","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a9204f3c75ae37d096a0c036d64bb1fb"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
